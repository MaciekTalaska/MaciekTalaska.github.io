<!DOCTYPE HTML>

<html lang="en">
  
<head>
  <meta charset="utf-8">
  
  <title>Go 1.5.x on Kubuntu using fish shell and gvm | Not only zeroes and ones</title>
  <meta name="author" content="Maciek Talaska">
  
  <meta name="description" content="... some personal ramblings about code, programming languages, architecture and IT in general">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Go 1.5.x on Kubuntu using fish shell and gvm"/>
  <meta property="og:site_name" content="Not only zeroes and ones"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <meta http-equiv="Content-Language" content="en"/>
  

  <link href="/img/favicon.ico" rel="icon">
  
    <link rel="apple-touch-icon" href="/img/favicon.ico">
    <link rel="apple-touch-icon-precomposed" href="/img/favicon.ico">
    

  <link rel="alternate" href="/atom.xml" title="Not only zeroes and ones" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  
  
  <style type="text/css">
  /* Tim Pietrusky advanced checkbox hack (Android <= 4.1.2) */
body{ -webkit-animation: bugfix infinite 1s; }
@-webkit-keyframes bugfix { from {padding:0;} to {padding:0;} }
</style>

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'null', 'auto');
  ga('send', 'pageview');
 
</script>




  
    
      <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400|Playball' rel='stylesheet' type='text/css'>
    
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.1.min.js"></script>

  



</head>


<body>
  <header id="header" class="inner"><div class="padding">
	<div class="alignleft logo">
	  <h1><a href="/">Not only zeroes and ones</a></h1>
	</div>
	<nav id="main-nav" class="alignright">
		<input type="checkbox" id="toggle" />
		<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu" onclick><i class="fa fa-bars"></i></label>
	  <ul class="menu">
	    
	      <li><a href="/">Home</a></li>
	    
	      <li><a href="/archives">Archives</a></li>
	    
	      <li><a href="/about">About</a></li>
	    
	    
	    	<li><a href="/atom.xml" target="_blank" title="bruce tan blog rss" class="rss-top"><i class="fa fa-rss"></i></a></li>
	    
	  </ul>
	</nav>
	<div class="clearfix"></div>
</div>
</header>
  <div id="page-heading-wrap">
  	<div class="inner">
      <div class="padding">
    		
          <h1>Go 1.5.x on Kubuntu using fish shell and gvm</h1>
          <ul>
            <li>
              <span class="heading-span">Posted on: </span>
              <time datetime="2015-11-07T22:16:08.000Z">2015-11-07</time>
            </li>
            
              <li>
                <span class="heading-span">By: </span>

                
                  <a href="/">Maciek Talaska</a>
                

              </li>
            
            <li>
              <span class="heading-span">With: </span>

              

<!-- comments in span
<span class="disqus-comment-count" data-disqus-url="http://maciektalaska.github.io/2015/11/07/Go-gvm-and-fish-shell/"> </span> 
-->

<!-- comments in span inside of link
<a href="#disqus_thread" data-disqus-identifier="http://maciektalaska.github.io/2015/11/07/Go-gvm-and-fish-shell/#disqus_thread">
  <span class="disqus-comment-count" data-disqus-url="http://maciektalaska.github.io/2015/11/07/Go-gvm-and-fish-shell/"> </span> 
</a>
-->                

<!-- working link to comments
<a href="http://maciektalaska.github.io/2015/11/07/Go-gvm-and-fish-shell/#disqus_thread"></a>
-->

<a href="#disqus_thread"></a>



              
            </li>
          </ul>
        
      </div>
  	</div>
  </div>

  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper" class="padding"><article class="post">
  
  
    <div class="post-content">
  
      
      <div class="entry">

      <p>I got really interested in Go and I am learning it in my spare time. Unfortunately the verion of Go that is available via Ubuntu repository is very old (at the moment of writing this it was 1.2.x). It was not good enough even for learning purposes.</p>
<p>I wanted to use the very latest version of Go (1.5.x) and started looking for an PPA that would allow me to install the newest version. I quickly found one: <a href="https://launchpad.net/~evarlast/+archive/ubuntu/golang1.5" target="_blank" rel="external">https://launchpad.net/~evarlast/+archive/ubuntu/golang1.5</a> Unfortunately I quickly realized that it may not be the best idea. </p>
<p>What if need to use two different versions of Go? How do I manage them?</p>
<p>The best thing is to use something similar to nvm (NodeJS Version Manager) or RVM (Ruby Version Manager). As I am using fish shell instead of bash, things are a bit more complicated. There are couple of steps required to have Go 1.5.x installed on Linux, and make the whole thing work with fish shell.</p>
<ol>
<li>Install gvm (<a href="https://github.com/moovweb/gvm" target="_blank" rel="external">https://github.com/moovweb/gvm</a>)</li>
<li>Make gvm work with fish shell (<a href="https://github.com/moovweb/gvm/issues/137#issuecomment-131400212" target="_blank" rel="external">https://github.com/moovweb/gvm/issues/137#issuecomment-131400212</a>). You may need to install bass first (<a href="https://github.com/edc/bass" target="_blank" rel="external">https://github.com/edc/bass</a>)</li>
<li><code>gvm install go1.5.x</code> will not work, as Go 1.5.x requires Go 1.4.x for compilation. Install Go 1.4.x first (<code>gvm install go1.4.3</code>)</li>
<li><code>gvm install go1.5.x</code> will fail again, due to the fact that it will be unable to find Go 1.4.x. You will probably see similar error message<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Failed to compile. <span class="operator"><span class="keyword">Check</span> the <span class="keyword">logs</span> <span class="keyword">at</span> /home/&lt;username&gt;/.gvm/<span class="keyword">logs</span>/<span class="keyword">go</span>-go1<span class="number">.5</span><span class="number">.1</span>-compile.<span class="keyword">log</span></span><br><span class="line"><span class="keyword">ERROR</span>: <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">use</span> installed <span class="keyword">version</span></span><br><span class="line">Installing go1<span class="number">.5</span><span class="number">.1</span>...</span><br><span class="line"> * Compiling...</span></span><br></pre></td></tr></table></figure>
In my case the log content was: <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### Building Go bootstrap tool.                                             </span></span><br><span class="line">cmd/dist</span><br><span class="line">ERROR: Cannot find /home/&lt;username&gt;/go1<span class="number">.4</span>/bin/go.</span><br><span class="line">Set $GOROOT_BOOTSTRAP <span class="built_in">to</span> <span class="operator">a</span> working Go tree &gt;= Go <span class="number">1.4</span>.</span><br><span class="line">./make.bash: <span class="built_in">line</span> <span class="number">121</span>: /home/&lt;username&gt;/go1<span class="number">.4</span>/bin/go: No such <span class="built_in">file</span> <span class="operator">or</span> <span class="built_in">directory</span></span><br></pre></td></tr></table></figure></li>
<li>Execute the folling commands to help gvm to succesfully compile Go 1.5.x (this is based on the discussion: <a href="https://github.com/moovweb/gvm/issues/155#issuecomment-135855340" target="_blank" rel="external">https://github.com/moovweb/gvm/issues/155#issuecomment-135855340</a>):<br>a) <code>gvm use go1.4.3</code><br>b) <code>set -x GOROOT_BOOTSTRAP $GOROOT</code><br>c) <code>gvm install go1.5.1</code> </li>
</ol>
<p>That should be all fine right now. Go 1.5.x should be installed on your machine (side by side with the Go 1.4.x that was used required to compile the newest version of Go).</p>
<p>Happy coding (in Go!)</p>


      </div>
      <footer>
        
          
  
  <div class="categories">
    <a href="/categories/programming/">programming</a>
  </div>

          
  
  <div class="tags">
    <a href="/tags/Go/">Go</a>, <a href="/tags/configuration/">configuration</a>, <a href="/tags/fish-shell/">fish shell</a>
  </div>

          <div class="share">
  
</div>
          
<nav class="article-nav clearfix">
 
 <div class="article-prev" >
 <a href="/2016/01/17/Go-Kubuntu-fish-shell-gvm-addendum/" title="Go, Kubuntu, fish-shell &amp; gvm - addendum">
  <i class="fa fa-long-arrow-left"></i>
  <span>
  Go, Kubuntu, fish-shell &amp; gvm - addendum</span>
</a>
</div>


<div class="article-next">
<a href="/2015/08/16/Welcome-to-Hexo/"  title="Checking out hexo!">
 <span>Checking out hexo!
</span>
<i class="fa fa-long-arrow-right"></i>
</a>
</div>

</nav>

        
        <div class="clearfix"></div>
      </footer>
    </div>
</article>


<section id="comment">
  <h2 class="title">Comments</h2>

  

  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  
</section>

</div></div>
    <aside id="sidebar" class="alignright"><div class="padding">
	
	  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:maciektalaska.github.io">
  </form>
</div>
	
	  
<div class="widget recent-post">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2016/02/05/Ugly-fonts-in-Java-apps-under-Linux/">Ugly fonts in Java apps under Linux</a>
      </li>
    
      <li>
        <a href="/2016/01/21/BoilingFrogs-conference/">Boiling Frogs conference</a>
      </li>
    
      <li>
        <a href="/2016/01/17/Go-Kubuntu-fish-shell-gvm-addendum/">Go, Kubuntu, fish-shell &amp; gvm - addendum</a>
      </li>
    
      <li>
        <a href="/2015/11/07/Go-gvm-and-fish-shell/">Go 1.5.x on Kubuntu using fish shell and gvm</a>
      </li>
    
      <li>
        <a href="/2015/08/16/Welcome-to-Hexo/">Checking out hexo!</a>
      </li>
    
  </ul>
</div>

	
	  
<div class="widget category">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/blogging/">blogging</a><small>1</small></li>
  
    <li><a href="/categories/conference/">conference</a><small>1</small></li>
  
    <li><a href="/categories/programming/">programming</a><small>2</small></li>
  
  </ul>
</div>

	
	  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  
    <a href="/tags/AngularJS/">AngularJS<small>0</small></a>
  
    <a href="/tags/Boiling-Frogs/">Boiling Frogs<small>1</small></a>
  
    <a href="/tags/Go/">Go<small>2</small></a>
  
    <a href="/tags/Jekyll/">Jekyll<small>1</small></a>
  
    <a href="/tags/Nikola/">Nikola<small>1</small></a>
  
    <a href="/tags/WebComponents/">WebComponents<small>0</small></a>
  
    <a href="/tags/configuration/">configuration<small>3</small></a>
  
    <a href="/tags/fish-shell/">fish shell<small>2</small></a>
  
    <a href="/tags/hexo/">hexo<small>1</small></a>
  
    <a href="/tags/programming/">programming<small>0</small></a>
  
    <a href="/tags/static-site-generators/">static site generators<small>1</small></a>
  
    <a href="/tags/thoughts/">thoughts<small>0</small></a>
  
</div>

	
</div></aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="padding">
	<div class="alignleft">
	  
	  &copy; 2016 Maciek Talaska
	  
	  Powerd by <a href="http://hexo.io/" target="_blank">hexo</a>
	  and Theme by <a href="https://github.com/mugbya/moon-metro" target="_blank">moon-metro</a>
	</div>

	<div class="alignright">
		
		
		
		
		
		
		
			<a href="/atom.xml" target="_blank" title="Maciek Talaska RSS"><i class="fa fa-rss-square"></i></a>
		
	</div>

	<div class="clearfix"></div>
</div>

<div class="scroll-top"><i class="fa fa-arrow-circle-up"></i></div></footer>
  

		<script type="text/javascript">
		var disqus_shortname = 'maciektalaska-github-io';
		
		  var disqus_url = 'http://maciektalaska.github.io/2015/11/07/Go-gvm-and-fish-shell/';
		

		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		</script>

		<script type="text/javascript">
		var disqus_shortname = 'maciektalaska-github-io'; 

		(function () {
		var s = document.createElement('script'); s.async = true;
		s.type = 'text/javascript';
		s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
		}());
		</script>

  


<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/3.0.4/jquery.imagesloaded.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
$(window).scroll(function() {

    if($(this).scrollTop() > 400) {
        $('.scroll-top').fadeIn(200);
    } else {
        $('.scroll-top').fadeOut(200);
    }
});

$('.scroll-top').bind('click', function(e) {
    e.preventDefault();
    $('body,html').animate({scrollTop:0},200);
});
</script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>
